{
  "filename": "annotation.md",
  "__html": "<h1>Annotation Configuration</h1>\n<p>Requires<code>2.6.3</code> or higher\nclick here to view the <a href=\"https://github.com/apache/dubbo-samples/tree/master/dubbo-samples-annotation\">complete sample</a></p>\n<h2>Provider Side</h2>\n<h3><code>Service</code> annotation for exporting</h3>\n<pre><code class=\"language-java\"><span class=\"hljs-meta\">@Service</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">AnnotationServiceImpl</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title\">AnnotationService</span> </span>{\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title\">sayHello</span><span class=\"hljs-params\">(String name)</span> </span>{\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">\"annotation: hello, \"</span> + name;\n    }\n}\n</code></pre>\n<h3>Add application sharing configuration</h3>\n<pre><code class=\"language-properties\"><span class=\"hljs-comment\"># dubbo-provider.properties</span>\n<span class=\"hljs-meta\">dubbo.application.name</span>=<span class=\"hljs-string\">annotation-provider</span>\n<span class=\"hljs-meta\">dubbo.registry.address</span>=<span class=\"hljs-string\">zookeeper://127.0.0.1:2181</span>\n<span class=\"hljs-meta\">dubbo.protocol.name</span>=<span class=\"hljs-string\">dubbo</span>\n<span class=\"hljs-meta\">dubbo.protocol.port</span>=<span class=\"hljs-string\">20880</span>\n</code></pre>\n<h3>Spring scan path</h3>\n<pre><code class=\"language-java\"><span class=\"hljs-meta\">@Configuration</span>\n<span class=\"hljs-meta\">@EnableDubbo</span>(scanBasePackages = <span class=\"hljs-string\">\"org.apache.dubbo.samples.simple.annotation.impl\"</span>)\n<span class=\"hljs-meta\">@PropertySource</span>(<span class=\"hljs-string\">\"classpath:/spring/dubbo-provider.properties\"</span>)\n<span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">ProviderConfiguration</span> </span>{\n       \n}\n</code></pre>\n<h2>Consumer Side</h2>\n<h3><code>Reference</code> annotation for reference</h3>\n<pre><code class=\"language-java\"><span class=\"hljs-meta\">@Component</span>(<span class=\"hljs-string\">\"annotationAction\"</span>)\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">AnnotationAction</span> </span>{\n\n    <span class=\"hljs-meta\">@Reference</span>\n    <span class=\"hljs-keyword\">private</span> AnnotationService annotationService;\n    \n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title\">doSayHello</span><span class=\"hljs-params\">(String name)</span> </span>{\n        <span class=\"hljs-keyword\">return</span> annotationService.sayHello(name);\n    }\n}\n</code></pre>\n<h3>Add application sharing configuration</h3>\n<pre><code class=\"language-java\"># dubbo-consumer.properties\ndubbo.application.name=annotation-consumer\ndubbo.registry.address=zookeeper://127.0.0.1:2181\ndubbo.consumer.timeout=3000\n</code></pre>\n<h3>Spring scan path</h3>\n<pre><code class=\"language-java\"><span class=\"hljs-meta\">@Configuration</span>\n<span class=\"hljs-meta\">@EnableDubbo</span>(scanBasePackages = <span class=\"hljs-string\">\"org.apache.dubbo.samples.simple.annotation.action\"</span>)\n<span class=\"hljs-meta\">@PropertySource</span>(<span class=\"hljs-string\">\"classpath:/spring/dubbo-consumer.properties\"</span>)\n<span class=\"hljs-meta\">@ComponentScan</span>(value = {<span class=\"hljs-string\">\"org.apache.dubbo.samples.simple.annotation.action\"</span>})\n<span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">public</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">ConsumerConfiguration</span> </span>{\n\n}\n</code></pre>\n<h3>Invoke service</h3>\n<pre><code class=\"language-java\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> Exception </span>{\n    AnnotationConfigApplicationContext context = <span class=\"hljs-keyword\">new</span> AnnotationConfigApplicationContext(ConsumerConfiguration<span class=\"hljs-class\">.<span class=\"hljs-keyword\">class</span>)</span>;\n    context.start();\n    <span class=\"hljs-keyword\">final</span> AnnotationAction annotationAction = (AnnotationAction) context.getBean(<span class=\"hljs-string\">\"annotationAction\"</span>);\n    String hello = annotationAction.doSayHello(<span class=\"hljs-string\">\"world\"</span>);\n}\n</code></pre>\n",
  "link": "/en-us/docs/user/configuration/annotation.html",
  "meta": {
    "title": "Annotation Configuration",
    "keywords": "dubbo,annotation configuration",
    "description": "Annotation Configuration"
  }
}